<html lang="en">

	<head>

		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">

		<link href="/resources/chart-creator.1.0.0.css" rel="stylesheet">

		<script defer src="/resources/chart-creator.1.0.0.js"></script>
		<script src="/resources/demo.js"></script>

		<title>Crag Charts Creator: Line</title>

	</head>

	<body>

	<div id="menu-modal" style="display: none">

		<div id="menu-modal-head" style="width: 100%; background: rgba(50,50,50,0.2); height: 30px;">
			<img src="/resources/icons/cross.svg" alt="Menu" id="menu-button-close" onclick="hideMenu()">
		</div>

		<div style="overflow: auto; max-height: 350px; position: relative; padding: 0 16px 8px 16px; box-sizing: border-box;backdrop-filter: brightness(1.25);">

			<button id="menu-modal-data" onclick="newData()">Random Data</button>


			<label>Chart</label>
			<input type="text" onkeyup="chartTitle(this)" id="title" style="padding-left: 66px"/>
			<span class="menu-modal-text-label">Title Text:</span>
			<ul class="ks-cboxtags">
				<li><input type="checkbox" onchange="chartColor(this)" id="chart-color"><label for="chart-color">Dark Mode</label></li>
			</ul>

			<label>Line</label>
			<select onchange="lineColor(this)">
				<option value="auto">Color (Default: Auto)</option>
				<option value="black">Black</option>
				<option value="white">White</option>
				<option value="red">Red</option>
				<option value="pink">Pink</option>
				<option value="purple">Purple</option>
				<option value="deepPurple">Deep Purple</option>
				<option value="indigo">Indigo</option>
				<option value="blue">Blue</option>
				<option value="lightBlue">Light Blue</option>
				<option value="cyan">Cyan</option>
				<option value="teal">Teal</option>
				<option value="green">Green</option>
				<option value="lightGreen">Light Green</option>
				<option value="lime">Lime</option>
				<option value="yellow">Yellow</option>
				<option value="amber">Amber</option>
				<option value="orange">Orange</option>
				<option value="deepOrange">Deep Orange</option>
			</select>
			<div class="slider-container">
				<input type="range" value="2" step="1" max="15" min="1" oninput="lineThickness(this)">
				<span>Thickness</span>
			</div>
			<div class="slider-container">
				<input type="range" value="4" step="1" max="20" min="0" oninput="pointSize(this)">
				<span>Point Size</span>
			</div>
			<ul class="ks-cboxtags">
				<li><input type="checkbox" onchange="smoothLine(this)" id="smoothLine" checked><label for="smoothLine">Smooth</label></li>
			</ul>

			<label>Primary vAxis</label>
			<select onchange="primaryAxisFormat(this)">
				<option value="decimal">Label Format (Default: Decimal)</option>
				<option value="currency">Currency</option>
				<option value="time">Time</option>
			</select>
			<select onchange="primaryAxisDecimals(this)" id="primaryAxisDecimals">
				<option value="0">Decimal Places (Default: 0)</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>
			<select onchange="primaryAxisCurrencySymbol(this)" id="primaryAxisCurrencySymbol" disabled>
				<option value="GBP">Currency Symbol (Default: GBP)</option>
				<option value="USD">USD</option>
				<option value="EUR">EUR</option>
				<option value="JPY">JPY</option>
				<option value="CAD">CAD</option>
			</select>
			<ul class="ks-cboxtags">
				<li><input type="checkbox" onchange="primaryMajorLines(this)" id="primaryMajorLines" checked><label for="primaryMajorLines">Major Lines</label></li>
				<li><input type="checkbox" onchange="primaryMinorLines(this)" id="primaryMinorLines" checked><label for="primaryMinorLines">Minor Lines</label></li>
				<li><input type="checkbox" onchange="shadowOnZeroLine(this)" id="primaryShadowZeroLine"><label for="primaryShadowZeroLine">Shadow on 'Zero Line'</label></li>
			</ul>

			<button onclick="showOptions(chart)">Show Options/Data</button>

		</div>

	</div>

	<div id="line-chart" class="chart-container"></div>

	<script src="/crag-charts/crag.charts.loader.js"></script>
	<script>

		let chart;

		new CragLoader(['line'], createChart, '/crag-charts/');

		function createChart() {

			chart = new CragLine(dataGenerator(15, 2)).create('line-chart');

		}

	</script>

	<script>

		function newData() {
			chart.update(dataGenerator(20, 1));
		}

		function chartTitle(elem) {
			chart.title.text = elem.value;
		}

		function chartColor(elem) {
			chart.color = elem.checked ? '#081B33' : '#FFFFFF';
		}

		/**
		 * Primary vAxis
		 */
		function shadowOnZeroLine(elem) {
			chart.primaryVAxis.shadowOnZeroLine = elem.checked;
		}

		function primaryAxisFormat(elem) {
			document.getElementById('primaryAxisDecimals').disabled = elem.value === 'time';
			document.getElementById('primaryAxisCurrencySymbol').disabled = elem.value !== 'currency';
			chart.primaryVAxis.format = elem.value;
		}

		function primaryAxisDecimals(elem) {
			chart.primaryVAxis.decimals = elem.value;
		}

		function primaryAxisCurrencySymbol(elem) {
			chart.primaryVAxis.currencySymbol = elem.value;
		}

		function primaryMajorLines(elem) {
			chart.primaryVAxis.majorLines = elem.checked;
		}

		function primaryMinorLines(elem) {
			chart.primaryVAxis.minorLines = elem.checked;
		}

		function primaryAxisMinimum(elem) {
			chart.primaryVAxis.minimum = elem.value;
		}

		/**
		 * Line
		 */
		function lineColor(elem) {
			console.log(elem.value);
			chart.line.color = elem.value;
		}
		function lineThickness(elem) {
			chart.line.thickness = elem.value;
		}
		function pointSize(elem) {
			chart.line.pointSize = elem.value;
		}
		function smoothLine(elem) {
			chart.line.smooth = elem.checked;
		}

	</script>

	</body>

</html>