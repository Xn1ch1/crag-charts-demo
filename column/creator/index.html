<html lang="en">

	<head>

		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">

		<link href="/resources/chart-creator.1.0.0.css" rel="stylesheet">

		<script defer src="/resources/chart-creator.1.0.0.js"></script>
		<script src="/resources/demo.js"></script>
		<script src="/resources/html2canvas.min.js"></script>

		<title>Crag Charts Creator: Column</title>

	</head>

	<body>

		<div id="menu-modal" style="display: none">

			<div id="menu-modal-head" style="width: 100%; background: rgba(50,50,50,0.2); height: 30px;">
				<img src="/resources/icons/cross.svg" alt="Menu" id="menu-button-close" onclick="hideMenu()">
			</div>

			<div style="overflow: auto; max-height: 350px; position: relative; padding: 0 16px 8px 16px; box-sizing: border-box;backdrop-filter: brightness(1.25);">

				<button id="menu-modal-data" onclick="newData()">Random Data</button>

				<label>Chart Options</label>
				<input type="text" onkeyup="newTitle(this)" id="title" style="padding-left: 66px"/>
				<span class="menu-modal-text-label">Title Text:</span>

				<label>Column Options</label>
				<select onchange="newColumnColor(this)">
					<option value="multi">Color (Default: Multi)</option>
					<option value="redGreen">Red/Green</option>
					<option value="red">Red</option>
					<option value="pink">Pink</option>
					<option value="purple">Purple</option>
					<option value="deeppurple">Deep Purple</option>
					<option value="indigo">Indigo</option>
					<option value="blue">Blue</option>
					<option value="lightblue">Light Blue</option>
					<option value="cyan">Cyan</option>
					<option value="teal">Teal</option>
					<option value="green">Green</option>
					<option value="lightgreen">Light Green</option>
					<option value="lime">Lime</option>
					<option value="yellow">Yellow</option>
					<option value="amber">Amber</option>
					<option value="orange">Orange</option>
					<option value="deeporange">Deep Orange</option>
				</select>
				<select onchange="newLabelPos(this)">
					<option value="none">Label Position (Default: None)</option>
					<option value="inside">Inside</option>
					<option value="outside">Outside</option>
				</select>
				<select onchange="newLabelColor(this)">
					<option value="auto">Label Color (Default: Auto)</option>
					<option value="match">Match Column</option>
					<option value="black">Black</option>
					<option value="white">White</option>
					<option value="red">Red</option>
					<option value="pink">Pink</option>
					<option value="purple">Purple</option>
					<option value="deeppurple">Deep Purple</option>
					<option value="indigo">Indigo</option>
					<option value="blue">Blue</option>
					<option value="lightblue">Light Blue</option>
					<option value="cyan">Cyan</option>
					<option value="teal">Teal</option>
					<option value="green">Green</option>
					<option value="lightgreen">Light Green</option>
					<option value="lime">Lime</option>
					<option value="yellow">Yellow</option>
					<option value="amber">Amber</option>
					<option value="orange">Orange</option>
					<option value="deeporange">Deep Orange</option>
				</select>
				<div class="slider-container">
					<input type="range" value="95" min="1" max="100" onchange="newWidth(this)">
					<span>Column Width</span>
				</div>
				<ul class="ks-cboxtags">
					<li><input type="checkbox" onchange="toggleRounded(this)" id="rounded"><label for="rounded">Rounded</label></li>
					<li><input type="checkbox" onchange="toggleInset(this)" id="inset"><label for="inset">Inset</label></li>
					<li><input type="checkbox" onchange="toggleStriped(this)" id="striped"><label for="striped">Striped</label></li>
					<li><input type="checkbox" onchange="toggleAnimated(this)" id="animated"><label for="animated">Animated</label></li>
				</ul>

				<label>vAxis</label>
				<select onchange="newAxisFormat(this)">
					<option value="number">Label Format (Default: Number)</option>
					<option value="time">Time</option>
					<option value="decimal">Decimal</option>
					<option value="currency" data-symbol="GBP">Currency £</option>
					<option value="currency" data-symbol="USD">Currency $</option>
					<option value="currency" data-symbol="EUR">Currency €</option>
				</select>
				<ul class="ks-cboxtags">
					<li><input type="checkbox" onchange="toggleMajorLines(this)" id="majorLines" checked><label for="majorLines">Major Lines</label></li>
					<li><input type="checkbox" onchange="toggleMinorLines(this)" id="minorLines" checked><label for="minorLines">Minor Lines</label></li>
				</ul>

			</div>

		</div>

		<div id="column-chart" class="chart-container"></div>

		<script src="/crag-charts/crag.charts.loader.js"></script>
		<script>

			let chart;

			const themeQuery = window.matchMedia('(prefers-color-scheme: dark)');

			themeQuery.addEventListener('change', () => chart.chartColor = cssVar('bg'));

			new CragLoader(['column'], createChart, '/crag-charts/');

			function createChart() {

				const data = dataGenerator(5);
				const options = {
					columns: {
						width: 95,
					},
					vAxis: {
						name: 'A series',
					},
					chart: {
						color: cssVar('bg')
					}
				}

				chart = new CragColumn(data, options).create('column-chart');

			}

		</script>

		<script>

			function newData() {

				document.getElementById('new-data').style.transform = 'rotate(360deg)';
				document.getElementById('new-data').style.pointerEvents = 'none';

				setTimeout(() => document.getElementById('new-data').style.transform = '', 350);
				setTimeout(() => document.getElementById('new-data').style.pointerEvents = '', 800);

				chart.newData = dataGenerator(15);


			}

			function newColumnColor(elem) {

				chart.columnColor = elem.value;

			}

			function newTitle(elem) {

				chart.title = elem.value;

			}

			function newLabelPos(elem) {

				chart.labelPosition = elem.value;

			}

			function newLabelColor(elem) {

				chart.labelColor = elem.value;

			}

			function newAxisFormat(elem) {

				chart.setAxisFormat(elem.value, elem.options[elem.selectedIndex].dataset.symbol);

			}

			function toggleMajorLines(elem) {

				chart.majorLinesVisible = elem.checked;

			}

			function toggleMinorLines(elem) {

				chart.minorLinesVisible = elem.checked;

			}

			function toggleRounded(elem) {

				chart.columnsRounded = elem.checked;

			}

			function toggleInset(elem) {

				chart.columnsInset = elem.checked;

			}

			function toggleStriped(elem) {

				chart.columnsStriped = elem.checked;

			}

			function toggleAnimated(elem) {

				chart.columnsAnimated = elem.checked;

			}

			function newWidth(elem) {

				chart.columnWidth = Number(elem.value);

			}

		</script>

	</body>

</html>